# stm32f439motor
stm32f439zi , dcmotor 2ch, Can

이번 상공회의소 교육을 통해 회로도를 작성했다. 해당 거버파일과 회로도 등 제작에 필요한 파일이다
일단은 두개를 만들었는데 mcu can controller rx,tx 출력을 받아서 can phy를 통해 출력으로 CAN High
CAN Low 내보내는 회로이며 파일이름은 canport이다.
두번째 회로는 stm32f439motor이며 nucleo-stm32f439를 이용하여 보드를 제작했으며, can phy를 내장
하였으며 출력으로 DB9 커넥터로 하였다. dc 모터 엔코더를 2ch를 사용할 수 있도록했으며 
스텝핑모터로 1ch로 사용할 수도 있다. 이경우 바이폴라 스테핑모터를 사용하여 a+,a-, b+,b- 이런식으로 dc
모터 2ch각각 a,b 2쌍씩 모터에 연결하면 가능하다. 전원은 12V, 5V같이 사용할 수 있도록하였다.
추가적으로 증폭기 5배로 설계하여 전류 센싱가능하도록하였다. 토크제어도 가능하다.
USB를 시리얼로 사용할 수 있도록 port를 만들어 통신 및 전원 포트로 사용가능하게 설계하였다.
모터드라이버는 다이오드로 스너버회로 구성하여 각채널 출력단을 보호하도록하였다. 
스위치 4개 LED 4개 를 연결하여 입력과 출력으로 사용할 수 있게 하였다. 그리고 steering 과
rpm입력을 6핀 헤더를 통해 하나, 가변저항을 2개를 이용하여 만들었다. 
